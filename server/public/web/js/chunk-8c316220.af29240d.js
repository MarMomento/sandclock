(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c316220"],{"0369":function(e,t,a){"use strict";a("e418")},"16c0":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c={class:"container home-page py-3"},r={class:"row justify-content-center"},i={class:"col-lg-3 d-lg-block d-none"},s=Object(n["l"])("div",null,"欢迎来到SandClock社区",-1),o={class:"col-12 col-lg-7"};function u(e,t,a,u,l,b){var d=Object(n["F"])("LoginCard"),j=Object(n["F"])("TagList"),O=Object(n["F"])("NotificationCard"),f=Object(n["F"])("ArticleTab"),p=Object(n["F"])("LoadMore");return Object(n["x"])(),Object(n["i"])("div",c,[Object(n["l"])("div",r,[Object(n["l"])("div",i,[e.user.isLogin?Object(n["j"])("",!0):(Object(n["x"])(),Object(n["i"])(d,{key:0,class:"mb-4"})),Object(n["l"])(j,{tagList:e.tagList,class:"mb-4"},null,8,["tagList"]),Object(n["l"])(O,{header:"通知"},{title:Object(n["P"])((function(){return[s]})),_:1})]),Object(n["l"])("div",o,[Object(n["l"])(f,{currentTab:e.currentTab,tabs:e.tabs,articleList:e.articleList,onChangeTab:e.getLatest},null,8,["currentTab","tabs","articleList","onChangeTab"]),Object(n["l"])(p,{isLastPage:e.isLastPage,onLoadMore:e.loadMore},null,8,["isLastPage","onLoadMore"])])])])}var l=a("5530"),b=a("1da1"),d=(a("96cf"),a("99af"),a("fb6a"),a("79f6")),j=Object(n["T"])("data-v-67414dc0");Object(n["A"])("data-v-67414dc0");var O=Object(n["l"])("h5",{class:"card-title"}," SandClock Community is a community of many amazing developers ",-1),f=Object(n["l"])("p",{class:"card-text text-muted"}," We're a place where coders share, stay up-to-date and grow their careers. ",-1),p={class:"d-grid gap-2 col-12"},g=Object(n["k"])(" 注册账号 "),v=Object(n["k"])(" 登录 ");Object(n["y"])();var m=j((function(e,t,a,c,r,i){var s=Object(n["F"])("router-link"),o=Object(n["F"])("Card");return Object(n["x"])(),Object(n["i"])(o,{class:"login-card"},{title:j((function(){return[O]})),text:j((function(){return[f]})),action:j((function(){return[Object(n["l"])("div",p,[Object(n["l"])(s,{to:"/login?state=new-user",class:"btn btn-primary"},{default:j((function(){return[g]})),_:1}),Object(n["l"])(s,{to:"/login",class:"btn btn-link text-decoration-none go-login"},{default:j((function(){return[v]})),_:1})])]})),_:1})})),x=a("12f9"),h=Object(n["m"])({name:"LoginCard",components:{Card:x["a"]}});a("0369");h.render=m,h.__scopeId="data-v-67414dc0";var y=h,k=(a("b0c0"),Object(n["T"])("data-v-4653b0dc"));Object(n["A"])("data-v-4653b0dc");var w={key:0,class:"fw-bolder fs-5 d-flex justify-content-between align-items-center"},L=Object(n["k"])(" 我的标签 "),T=Object(n["l"])("i",{class:"bi bi-nut text-muted fs-4"},null,-1),_={key:1,class:"fw-bolder fs-5"},C={key:0,class:"tag-group-wrapper"},R={key:1,class:"text-muted"},A=Object(n["l"])("small",null,"暂时没有关注的标签",-1);Object(n["y"])();var F=k((function(e,t,a,c,r,i){var s=Object(n["F"])("router-link"),o=Object(n["F"])("List");return Object(n["x"])(),Object(n["i"])(o,{class:"tag-list"},{header:k((function(){return[e.user.isLogin?(Object(n["x"])(),Object(n["i"])("p",w,[L,Object(n["l"])(s,{to:"/dashboard/following-tags"},{default:k((function(){return[T]})),_:1})])):(Object(n["x"])(),Object(n["i"])("p",_,"最近热门标签"))]})),list:k((function(){return[e.tagList.length?(Object(n["x"])(),Object(n["i"])("div",C,[Object(n["l"])("ul",{class:"list-group tag-group",style:{maxHeight:"320px",overflowY:e.tagList.length>8?"scroll":""}},[(Object(n["x"])(!0),Object(n["i"])(n["a"],null,Object(n["D"])(e.tagList,(function(e){return Object(n["x"])(),Object(n["i"])("li",{class:"list-group-item tag-item",key:e._id},[Object(n["l"])(s,{class:"link-dark text-decoration-none tag-link d-block",to:"/tag/".concat(e._id)},{default:k((function(){return[Object(n["k"])(" #"+Object(n["J"])(e.name),1)]})),_:2},1032,["to"])])})),128))],4)])):(Object(n["x"])(),Object(n["i"])("div",R,[A]))]})),_:1})})),M=a("5502"),P=a("7d5f"),E=Object(n["m"])({name:"TagList",components:{List:P["a"]},props:{tagList:{type:Array,required:!0}},setup:function(){var e=Object(M["b"])(),t=Object(n["g"])((function(){return e.state.user}));return{user:t}}});a("2fe1");E.render=F,E.__scopeId="data-v-4653b0dc";var $=E,S={key:0,class:"card-header"};function q(e,t,a,c,r,i){var s=Object(n["F"])("Card");return Object(n["x"])(),Object(n["i"])(s,{class:"notification-card"},{header:Object(n["P"])((function(){return[Object(n["E"])(e.$slots,"header",{},(function(){return[e.header?(Object(n["x"])(),Object(n["i"])("div",S,Object(n["J"])(e.header),1)):Object(n["j"])("",!0)]}))]})),title:Object(n["P"])((function(){return[Object(n["E"])(e.$slots,"title")]})),text:Object(n["P"])((function(){return[Object(n["E"])(e.$slots,"text")]})),_:1})}var B=Object(n["m"])({name:"NotificationCard",components:{Card:x["a"]},props:{header:String}});B.render=q;var I=B,J=a("a2c9"),U=a("f898"),N=a("6ff3"),D=a("38c8"),H=Object(n["m"])({name:"Home",components:{LoginCard:y,TagList:$,NotificationCard:I,ArticleTab:U["a"],LoadMore:J["a"]},setup:function(){var e=Object(D["a"])(),t=e.user,a=Object(n["B"])({currentTab:"",tabs:[{type:"week",text:"最近一周"},{type:"month",text:"最近一月"},{type:"year",text:"最近一年"}],articleList:[],tagList:[]}),c=Object(N["a"])({date:7,page:1,per_page:15,count:0},Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["k"])({date:r.date,page:r.page+1,per_page:r.per_page});case 2:t=e.sent,n=t.data,a.articleList=a.articleList.concat(n.data),r.count=n.count;case 6:case"end":return e.stop()}}),e)})))),r=c.pagination,i=c.isLastPage,s=c.loadMore,o=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["m"])();case 2:t=e.sent,n=t.data,a.tagList=n.slice(0,15);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["j"])();case 2:t=e.sent,n=t.data,a.tagList=n;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["k"])(t);case 2:n=e.sent,c=n.data,a.articleList=c.data,r.count=c.count;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){switch(a.currentTab=e,r.page=1,e){case"week":r.date=7;break;case"month":r.date=30;break;case"year":r.date=365;break;default:break}j({date:r.date,page:r.page,per_page:r.per_page})};return Object(n["v"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value.isLogin?u():o(),O("week");case 2:case"end":return e.stop()}}),e)})))),Object(n["s"])((function(){t.value.isLogin?u():o(),O("week")})),Object(l["a"])(Object(l["a"])({user:t},Object(n["K"])(a)),{},{isLastPage:i,loadMore:s,getLatest:O})}});H.render=u;t["default"]=H},"2fe1":function(e,t,a){"use strict";a("f95f")},"38c8":function(e,t,a){"use strict";var n=a("1da1"),c=(a("96cf"),a("caad"),a("2532"),a("79f6")),r=a("565a"),i=a("0ef5"),s=a("7a23"),o=a("6c02"),u=a("5502"),l=function(e){var t=Object(o["e"])(),a=Object(u["b"])(),l=Object(s["g"])((function(){return a.state.user})),b=Object(s["g"])((function(){var t;return(null===(t=l.value.info)||void 0===t?void 0:t._id)===(null===e||void 0===e?void 0:e.value)})),d=Object(s["g"])({get:function(){return!!l.value.info&&l.value.info.following.includes(e?e.value:"")},set:function(e){return e}});e&&Object(s["O"])(e,(function(e){l.value.info?d.value=l.value.info.following.includes(e):d.value=!1}));var j=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(n,s){var o,u,b,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l.value.isLogin){e.next=3;break}return t.push("/login"),e.abrupt("return");case 3:if(e.prev=3,!n){e.next=12;break}return e.next=7,Object(c["E"])(s._id);case 7:o=e.sent,u=o.status,204===u&&Object(r["a"])({type:"success",message:"取消关注成功"}),e.next=17;break;case 12:return e.next=14,Object(c["w"])(s._id);case 14:b=e.sent,d=b.status,204===d&&Object(r["a"])({type:"success",message:"关注成功"});case 17:a.dispatch(i["a"].FETCH_CURRENT_USER),e.next=22;break;case 20:e.prev=20,e.t0=e["catch"](3);case 22:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t,a){return e.apply(this,arguments)}}();return{user:l,isMe:b,isFollowing:d,followTheUser:j}};t["a"]=l},"52f2":function(e,t,a){},"6ff3":function(e,t,a){"use strict";var n=a("1da1"),c=(a("96cf"),a("7a23")),r=function(e,t){var a=Object(c["B"])(e),r=Object(c["g"])((function(){return a.page>=Math.ceil(a.count/a.per_page)})),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:a.page++;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{pagination:a,isLastPage:r,loadMore:i}};t["a"]=r},"7d5f":function(e,t,a){"use strict";var n=a("7a23"),c={class:"list"},r={class:"list-body"};function i(e,t,a,i,s,o){return Object(n["x"])(),Object(n["i"])("div",c,[Object(n["E"])(e.$slots,"header"),Object(n["l"])("div",r,[Object(n["E"])(e.$slots,"list")])])}var s=Object(n["m"])({name:"List"});s.render=i;t["a"]=s},a2c9:function(e,t,a){"use strict";var n=a("7a23"),c={class:"load-more d-flex justify-content-center my-2"},r={key:0,class:"text-muted"};function i(e,t,a,i,s,o){return Object(n["x"])(),Object(n["i"])("div",c,[e.isLastPage?(Object(n["x"])(),Object(n["i"])(n["a"],{key:0},[e.isLastPage?(Object(n["x"])(),Object(n["i"])("small",r,"已经到底啦~~~")):Object(n["j"])("",!0)],64)):(Object(n["x"])(),Object(n["i"])("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return e.loadMore&&e.loadMore.apply(e,arguments)})},"加载更多"))])}var s=Object(n["m"])({name:"LoadMore",props:{isLastPage:{type:Boolean,required:!0}},emits:["load-more"],setup:function(e,t){var a=t.emit,n=function(){a("load-more")};return{loadMore:n}}});s.render=i;t["a"]=s},d55f:function(e,t,a){"use strict";var n=a("7a23");function c(e,t,a,c,r,i){return Object(n["x"])(),Object(n["i"])("div",{class:["tab",{"d-flex":"leftRight"===e.type}]},[Object(n["E"])(e.$slots,"menu"),Object(n["E"])(e.$slots,"content")],2)}var r=Object(n["m"])({name:"Tab",props:{type:{type:String,default:"topBottom"}}});r.render=c;t["a"]=r},d59a:function(e,t,a){"use strict";a("52f2")},e418:function(e,t,a){},f898:function(e,t,a){"use strict";var n=a("7a23"),c=Object(n["T"])("data-v-21d8d714");Object(n["A"])("data-v-21d8d714");var r={class:"d-flex justify-content-between align-items-center mb-2"},i=Object(n["l"])("div",{class:"fw-bolder fs-5"},"最新文章",-1),s={class:"nav nav-tabs article-tabs"};Object(n["y"])();var o=c((function(e,t,a,o,u,l){var b=Object(n["F"])("ArticleCard"),d=Object(n["F"])("Tab");return Object(n["x"])(),Object(n["i"])(d,{class:"article-tab"},{menu:c((function(){return[Object(n["l"])("div",r,[i,Object(n["l"])("ul",s,[(Object(n["x"])(!0),Object(n["i"])(n["a"],null,Object(n["D"])(e.tabs,(function(t){return Object(n["x"])(),Object(n["i"])("li",{class:"nav-item",key:t.type},[Object(n["l"])("button",{class:["nav-link",{active:e.currentTab===t.type}],type:"button",onClick:function(a){return e.changeTab(t.type)}},Object(n["J"])(t.text),11,["onClick"])])})),128))])])]})),content:c((function(){return[(Object(n["x"])(!0),Object(n["i"])(n["a"],null,Object(n["D"])(e.articleList,(function(t,a){return Object(n["x"])(),Object(n["i"])(b,{key:t._id,showImg:!e.isUnderTag&&0===a,article:t,class:"mb-3",onCollectArticle:e.collectTheArticle},null,8,["showImg","article","onCollectArticle"])})),128))]})),_:1})})),u=a("d55f"),l=a("e3c1"),b=a("85bc"),d=Object(n["m"])({name:"ArticleTab",components:{Tab:u["a"],ArticleCard:l["a"]},props:{isUnderTag:{type:Boolean,default:!1},currentTab:{type:String,required:!0},tabs:{type:Object,required:!0},articleList:{type:Array,required:!0}},emits:["change-tab"],setup:function(e,t){var a=t.emit,n=Object(b["a"])(),c=n.collectTheArticle,r=function(t){e.currentTab!==t&&a("change-tab",t)};return{collectTheArticle:c,changeTab:r}}});a("d59a");d.render=o,d.__scopeId="data-v-21d8d714";t["a"]=d},f95f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-8c316220.af29240d.js.map